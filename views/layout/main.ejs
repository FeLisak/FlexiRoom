<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= pageTitle %></title>
    <link rel="stylesheet" href="../css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />
  </head>
  <body>
    <%
      const isLoginPage = pageTitle === 'Login';
      const isUserLoggedIn = !!(user && user.id) && !isLoginPage;
      const name = user && user.name ? user.name : "Visitante";
      const surname = user && user.surname ? user.surname : "";
    %>
    <%- include('../components/header', { username: `${name} ${surname}`, isUserLoggedIn }) %>

    <main><%- include(content) %></main>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme) {
          document.body.setAttribute("data-theme", savedTheme);
        } else {
          document.body.setAttribute("data-theme", "light");
        }
      });
    </script>
  </body>
</html>
